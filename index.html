const { EmbedBuilder } = require('discord.js');
const { getGuildSettings } = require('../utils/settings');

module.exports = {
  name: 'help',
  description: 'Show help',
  async execute(message, args) {
    const { embedColor, prefix } = getGuildSettings(message.guild.id, { prefix: '#', embedColor: '#000000' });
    const helpEmbed = new EmbedBuilder()
      .setColor(embedColor ? parseInt(embedColor.replace('#',''),16) : 0x000000)
      .setTitle('Bot Commands')
      .setDescription([
        `\`${prefix}help\` - Show this help message`,
        `\`${prefix}box\` - Claim a giveaway box`,
        `\`${prefix}server\` - Show server info`,
        `\`${prefix}gstart\` - Start a giveaway`
      ].join('\n'));
    return message.channel.send({ embeds: [helpEmbed] });
  }
};
