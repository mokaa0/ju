if (i.commandName === "refresh") {
    const type = i.options.getString("type");

    // ØªØ­Ù‚Ù‚ Ù…Ù† Ù†ÙˆØ¹ Ø§Ù„ØªÙˆÙƒÙ†
    if (!["voice", "online", "auto"].includes(type)) {
        return await i.reply({
            embeds: [
                new EmbedBuilder()
                    .setColor(0x2b2d31)
                    .setDescription("> Ù†ÙˆØ¹ Ø§Ù„ØªÙˆÙƒÙ† ØºÙŠØ± ØµØ­ÙŠØ­. Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±Ø§Øª: voice, online, auto")
            ],
            ephemeral: true
        });
    }

    // ØªØ£Ø¬ÙŠÙ„ Ø§Ù„Ø±Ø¯ Ø­ØªÙ‰ ØªÙƒØªÙ…Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
    await i.deferReply({ ephemeral: false });

    // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ø¯Ø§Ù„Ø© Ù…Ø¹ ØªÙ…Ø±ÙŠØ± i
    const result = await refreshTokens(type, i);

    // ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø®Ø·Ø£
    if (result.error) {
        return await i.editReply({
            embeds: [
                new EmbedBuilder()
                    .setColor(0x2b2d31)
                    .setDescription(`> ${result.message}`)
            ]
        });
    }

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥ÙŠÙ…Ø¨Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
    const embed = new EmbedBuilder()
        .setColor(0x2b2d31)
        .setDescription(`**Invalid Tokens:** ${result.invalid}\n**Done Removed**`)
        .addFields(
            { name: "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª", value: `\`${result.total}\``, inline: true },
            { name: "Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„ØµØ§Ù„Ø­Ø©", value: `\`${result.working}\``, inline: true },
            { name: "Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„Ø®Ø±Ø¨Ø§Ù†Ø©", value: `\`${result.invalid}\``, inline: true }
        )
        .setFooter({ text: `ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…Ù„Ù ${type}.txt` })
        .setTimestamp();

    await i.editReply({ embeds: [embed] });

    // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Ù‚Ù†Ø§Ø© Ø§Ù„Ø³Ø¬Ù„
    const logChannel = await client.channels.fetch(LOG_CHANNEL_ID);
    if (logChannel) {
        const logEmbed = new EmbedBuilder()
            .setColor(0x2b2d31)
            .setTitle("ğŸ“Š ØªÙ‚Ø±ÙŠØ± ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª")
            .addFields(
                { name: "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…", value: `<@${i.user.id}>`, inline: true },
                { name: "Ø§Ù„Ù†ÙˆØ¹", value: type, inline: true },
                { name: "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª", value: result.total.toString(), inline: true },
                { name: "Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„ØµØ§Ù„Ø­Ø©", value: result.working.toString(), inline: true },
                { name: "Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ©", value: result.invalid.toString(), inline: true }
            )
            .setTimestamp();

        await logChannel.send({ embeds: [logEmbed] });
    }
}

// ----------------------------
// Ø¯Ø§Ù„Ø© refreshTokens Ù…Ø¹ ØªÙ…Ø±ÙŠØ± i
async function refreshTokens(type, i) {
    // Ù…Ø«Ø§Ù„: Ø¹Ù…Ù„ÙŠØ© ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
    // Ù‡Ù†Ø§ Ø¶Ø¹ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª
    // Ù„Ù†ÙØªØ±Ø¶ Ø£Ù†Ùƒ ØªØ­Ø³Ø¨:
    const total = 10;   // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª
    const working = 8;  // Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„ØµØ§Ù„Ø­Ø©
    const invalid = 2;  // Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„Ø®Ø±Ø¨Ø§Ù†Ø©

    // ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… i Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¯Ø§Ù„Ø©
    await i.editReply({
        embeds: [
            new EmbedBuilder()
                .setColor(0x2b2d31)
                .setDescription(`> Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« ØªÙˆÙƒÙ†Ø§Øª ${type}...`)
        ]
    });

    // ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØªØ±Ø¬Ø¹ Ø§Ù„Ù†ØªÙŠØ¬Ø©
    return {
        error: false,
        total,
        working,
        invalid
    };
}